create database bd_avaliacaoIII

use bd_avaliacaoIII

CREATE TABLE TB_ALUNO (
  MATRICULA INT NOT NULL PRIMARY KEY,
  NM_ALUNO VARCHAR(100) NOT NULL
)

INSERT INTO TB_ALUNO 
VALUES (10, 'JOAO'),
(20, 'RICARDO'),
(30, 'PATRICIA'),
(40, 'ROBERTO')

CREATE TABLE TB_DISCIPLINA (
   CD_DISCIPLINA INT NOT NULL PRIMARY KEY,
   NM_DISCIPLINA VARCHAR(100) NOT NULL,
   ANO INT NOT NULL,
   UNIQUE (NM_DISCIPLINA, ANO)
)

INSERT INTO TB_DISCIPLINA 
VALUES (1, 'BD I', 2021),
       (2, 'BD II', 2022),
	   (3, 'ES I', 2021),
	   (4, 'ES II', 2022),
	   (5,  'REDES', 2021)

CREATE TABLE TB_AVALIACAO_DISCIPLINA (
   CD_DISCIPLINA INT NOT NULL REFERENCES TB_DISCIPLINA,
   MATRICULA INT NOT NULL REFERENCES TB_ALUNO,
   NOTA_FINAL NUMERIC(10,1) NOT NULL,
   NR_FALTAS  INT NOT NULL,
   PRIMARY KEY (COD_DISCIPLINA, MATRICULA)
 )

 -- BDI
 INSERT INTO TB_AVALIACAO_DISCIPLINA
 VALUES (1, 10, 10.0, 0),
        (1, 20, 9.0, 11),
        (1, 30, 9.0, 2),
		(1, 40, 8.0, 2)

 -- BDII
 INSERT INTO TB_AVALIACAO_DISCIPLINA
 VALUES (2, 10, 10.0, 0),
        (2, 20, 10.0, 1),
        (2, 30, 10.0, 2),
		(2, 40, 10.0, 11)

 -- ES I
 INSERT INTO TB_AVALIACAO_DISCIPLINA
 VALUES (3, 10, 7.0, 0),
        (3, 20, 7.0, 1),
        (3, 30, 7.0, 2),
		(3, 40, 5.0, 2)
 -- ES II
 INSERT INTO TB_AVALIACAO_DISCIPLINA
 VALUES (4, 10, 4.0, 0),
        (4, 20, 5.0, 1),
        (4, 30, 5.0, 2),
		(4, 40, 4.0, 2)

